// Переводы для всех элементов интерфейса
const translations = {
    en: {
        // Menu page
        'menu_title': 'Language Learning',
        'select_words': 'Select Words',
        'add_words': 'Add Words',
        'learn_words': 'Learn Words',
        
        // List page
        'select_language': 'Select language:',
        'translation_language': 'Translation language:',
        'select_language_option': '-- Select language --',
        'select_translation_option': '-- Select translation language --',
        'popular_words': 'Popular words:',
        'save_selected': 'Save selected words',
        'select_language_alert': 'Select a language!',
        'select_word_alert': 'Select at least one word!',
        'words_saved': 'words saved!',
        
        // Add words page
        'add_words_title': 'Add Words',
        'main_word': 'Main word:',
        'translation': 'Translation:',
        'enter_word': 'Enter word',
        'enter_translation': 'Enter translation',
        'add_word_btn': 'Add Word',
        'back_to_menu': 'Back to Menu',
        'word_added': 'Word successfully added!',
        'fill_fields': 'Please fill all fields!',
        
        // Index page
        'remove_word': 'Remove Word',
        'show_translation': 'Show Translation',
        'swap_words': 'Swap Words',
        'next_word': 'Next Word',
        'add_new_word': 'Add new word',
        'add_words_in_list': 'Add words in list.html',
        
        // Language names
        'lang_english': 'English',
        'lang_spanish': 'Spanish', 
        'lang_french': 'French',
        'lang_german': 'German',
        'lang_japanese': 'Japanese',
        'lang_korean': 'Korean',
        'lang_italian': 'Italian',
        'lang_hindi': 'Hindi',
        'lang_chinese': 'Chinese',
        'lang_portuguese': 'Portuguese'
    },
    
    ru: {
        // Menu page
        'menu_title': 'Изучение языков',
        'select_words': 'Выбрать слова',
        'add_words': 'Добавить слова',
        'learn_words': 'Учить слова',
        
        // List page
        'select_language': 'Выберите язык:',
        'translation_language': 'Язык перевода:',
        'select_language_option': '-- Выберите язык --',
        'select_translation_option': '-- Выберите язык перевода --',
        'popular_words': 'Популярные слова:',
        'save_selected': 'Сохранить выбранные слова',
        'select_language_alert': 'Выберите язык!',
        'select_word_alert': 'Выберите хотя бы одно слово!',
        'words_saved': 'слов сохранено!',
        
        // Add words page
        'add_words_title': 'Добавить слова',
        'main_word': 'Основное слово:',
        'translation': 'Перевод:',
        'enter_word': 'Введите слово',
        'enter_translation': 'Введите перевод',
        'add_word_btn': 'Добавить слово',
        'back_to_menu': 'Назад в меню',
        'word_added': 'Слово успешно добавлено!',
        'fill_fields': 'Пожалуйста, заполните все поля!',
        
        // Index page
        'remove_word': 'Убрать слово',
        'show_translation': 'Показать перевод',
        'swap_words': 'Поменять местами',
        'next_word': 'Следующее слово',
        'add_new_word': 'Добавьте новое слово',
        'add_words_in_list': 'Добавьте слова в list.html',
        
        // Language names
        'lang_english': 'Английский',
        'lang_spanish': 'Испанский', 
        'lang_french': 'Французский',
        'lang_german': 'Немецкий',
        'lang_japanese': 'Японский',
        'lang_korean': 'Корейский',
        'lang_italian': 'Итальянский',
        'lang_hindi': 'Хинди',
        'lang_chinese': 'Китайский',
        'lang_portuguese': 'Португальский'
    },
    
    es: {
        // Menu page
        'menu_title': 'Aprendizaje de Idiomas',
        'select_words': 'Seleccionar Palabras',
        'add_words': 'Agregar Palabras',
        'learn_words': 'Aprender Palabras',
        
        // List page
        'select_language': 'Seleccionar idioma:',
        'translation_language': 'Idioma de traducción:',
        'select_language_option': '-- Seleccionar idioma --',
        'select_translation_option': '-- Seleccionar idioma de traducción --',
        'popular_words': 'Palabras populares:',
        'save_selected': 'Guardar palabras seleccionadas',
        'select_language_alert': '¡Selecciona un idioma!',
        'select_word_alert': '¡Selecciona al menos una palabra!',
        'words_saved': 'palabras guardadas!',
        
        // Add words page
        'add_words_title': 'Agregar Palabras',
        'main_word': 'Palabra principal:',
        'translation': 'Traducción:',
        'enter_word': 'Ingresa palabra',
        'enter_translation': 'Ingresa traducción',
        'add_word_btn': 'Agregar Palabra',
        'back_to_menu': 'Volver al Menú',
        'word_added': '¡Palabra agregada exitosamente!',
        'fill_fields': '¡Por favor completa todos los campos!',
        
        // Index page
        'remove_word': 'Quitar Palabra',
        'show_translation': 'Mostrar Traducción',
        'swap_words': 'Intercambiar Palabras',
        'next_word': 'Siguiente Palabra',
        'add_new_word': 'Agregar nueva palabra',
        'add_words_in_list': 'Agregar palabras en list.html',
        
        // Language names
        'lang_english': 'Inglés',
        'lang_spanish': 'Español', 
        'lang_french': 'Francés',
        'lang_german': 'Alemán',
        'lang_japanese': 'Japonés',
        'lang_korean': 'Coreano',
        'lang_italian': 'Italiano',
        'lang_hindi': 'Hindi',
        'lang_chinese': 'Chino',
        'lang_portuguese': 'Portugués'
    },
    
    de: {
        // Menu page
        'menu_title': 'Sprachenlernen',
        'select_words': 'Wörter Auswählen',
        'add_words': 'Wörter Hinzufügen',
        'learn_words': 'Wörter Lernen',
        
        // List page
        'select_language': 'Sprache auswählen:',
        'translation_language': 'Übersetzungssprache:',
        'select_language_option': '-- Sprache auswählen --',
        'select_translation_option': '-- Übersetzungssprache auswählen --',
        'popular_words': 'Beliebte Wörter:',
        'save_selected': 'Ausgewählte Wörter speichern',
        'select_language_alert': 'Wählen Sie eine Sprache!',
        'select_word_alert': 'Wählen Sie mindestens ein Wort!',
        'words_saved': 'Wörter gespeichert!',
        
        // Add words page
        'add_words_title': 'Wörter Hinzufügen',
        'main_word': 'Hauptwort:',
        'translation': 'Übersetzung:',
        'enter_word': 'Wort eingeben',
        'enter_translation': 'Übersetzung eingeben',
        'add_word_btn': 'Wort Hinzufügen',
        'back_to_menu': 'Zurück zum Menü',
        'word_added': 'Wort erfolgreich hinzugefügt!',
        'fill_fields': 'Bitte füllen Sie alle Felder aus!',
        
        // Index page
        'remove_word': 'Wort Entfernen',
        'show_translation': 'Übersetzung Zeigen',
        'swap_words': 'Wörter Tauschen',
        'next_word': 'Nächstes Wort',
        'add_new_word': 'Neues Wort hinzufügen',
        'add_words_in_list': 'Wörter in list.html hinzufügen',
        
        // Language names
        'lang_english': 'Englisch',
        'lang_spanish': 'Spanisch', 
        'lang_french': 'Französisch',
        'lang_german': 'Deutsch',
        'lang_japanese': 'Japanisch',
        'lang_korean': 'Koreanisch',
        'lang_italian': 'Italienisch',
        'lang_hindi': 'Hindi',
        'lang_chinese': 'Chinesisch',
        'lang_portuguese': 'Portugiesisch'
    },
    
    fr: {
        // Menu page
        'menu_title': 'Apprentissage des Langues',
        'select_words': 'Sélectionner des Mots',
        'add_words': 'Ajouter des Mots',
        'learn_words': 'Apprendre des Mots',
        
        // List page
        'select_language': 'Sélectionner la langue:',
        'translation_language': 'Langue de traduction:',
        'select_language_option': '-- Sélectionner la langue --',
        'select_translation_option': '-- Sélectionner la langue de traduction --',
        'popular_words': 'Mots populaires:',
        'save_selected': 'Sauvegarder les mots sélectionnés',
        'select_language_alert': 'Sélectionnez une langue!',
        'select_word_alert': 'Sélectionnez au moins un mot!',
        'words_saved': 'mots sauvegardés!',
        
        // Add words page
        'add_words_title': 'Ajouter des Mots',
        'main_word': 'Mot principal:',
        'translation': 'Traduction:',
        'enter_word': 'Entrer le mot',
        'enter_translation': 'Entrer la traduction',
        'add_word_btn': 'Ajouter le Mot',
        'back_to_menu': 'Retour au Menu',
        'word_added': 'Mot ajouté avec succès!',
        'fill_fields': 'Veuillez remplir tous les champs!',
        
        // Index page
        'remove_word': 'Supprimer le Mot',
        'show_translation': 'Afficher la Traduction',
        'swap_words': 'Échanger les Mots',
        'next_word': 'Mot Suivant',
        'add_new_word': 'Ajouter un nouveau mot',
        'add_words_in_list': 'Ajouter des mots dans list.html',
        
        // Language names
        'lang_english': 'Anglais',
        'lang_spanish': 'Espagnol', 
        'lang_french': 'Français',
        'lang_german': 'Allemand',
        'lang_japanese': 'Japonais',
        'lang_korean': 'Coréen',
        'lang_italian': 'Italien',
        'lang_hindi': 'Hindi',
        'lang_chinese': 'Chinois',
        'lang_portuguese': 'Portugais'
    }
};

// Функция для получения языка пользователя
function getUserLanguage() {
    if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initDataUnsafe.user) {
        const userLang = window.Telegram.WebApp.initDataUnsafe.user.language_code;
        return translations[userLang] ? userLang : 'en';
    }
    return 'en';
}

// Функция для перевода текста
function translate(key) {
    const lang = getUserLanguage();
    return translations[lang][key] || translations['en'][key] || key;
}

// Функция для применения переводов ко всем элементам страницы
function applyTranslations() {
    const lang = getUserLanguage();
    
    // Переводим элементы по data-translate атрибуту
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = translations[lang][key] || translations['en'][key] || key;
        
        if (element.tagName === 'INPUT' && (element.type === 'text' || element.type === 'email')) {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
}